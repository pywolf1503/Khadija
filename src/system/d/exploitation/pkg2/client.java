package system.d.exploitation.pkg2;

import system.d.exploitation.pkg2.util.SemaphoreManager;


public class client implements Runnable {

    private entrepot ent;

    public entrepot getEnt() {
        return ent;
    }

    public void setEnt(entrepot ent) {
        this.ent = ent;
    }

    /**
     * Runs this operation.
     */
    @Override
    public void run() {
        while(true){
            try {
                SemaphoreManager.full.acquire(1);
            } catch (InterruptedException e) {
                throw new RuntimeException(e);
            }
            try {
                SemaphoreManager.mutex.acquire(1);
            } catch (InterruptedException e) {
                throw new RuntimeException(e);
            }
            ent.removestock();
            SemaphoreManager.mutex.release(1);
            SemaphoreManager.empty.release(1);
        }
    }
}